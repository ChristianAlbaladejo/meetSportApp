<ion-header>
  <ion-toolbar color="success">
    <ion-buttons slot="start">
      <ion-button (click)="goBack()">
        <ion-icon name="chevron-back-outline"></ion-icon>Back
      </ion-button>
    </ion-buttons>
    <ion-title>Publication</ion-title>
    <ion-buttons slot="end">
      <ion-button *ngIf="publication.user._id == identity._id" (click)="delete()"><ion-icon name="trash-outline"></ion-icon></ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-item>
    <ion-avatar slot="start">
      <img *ngIf="publication.user.image" src="{{url + '/get-image-user/' + publication.user.image}}">
      <img *ngIf="!publication.user.image" src="../../assets/no-user.webp">
    </ion-avatar>
    <ion-label>
      <h3>{{publication?.user.name +' '+ publication?.user.surname+ ' '}}|
        &nbsp;{{'  ' +publication?.created_at | date}}</h3>
      <h3>{{publication?.text}}</h3>
      <h3>Date of exit: {{times?.date | date}} &nbsp; {{ times?.hour}}</h3>
      <!-- <ion-button slot="end" (click)="delete(publication._id)">ASD</ion-button> -->
    </ion-label>
  </ion-item>
  <ion-item>
    <ion-label>What are you going to do?</ion-label>
  </ion-item>
  <ion-item>
    <ion-textarea [(ngModel)]="publication.text" name="text" #text="ngModel" type="text-area" required>
    </ion-textarea>
  </ion-item>
  <ion-item>
    <!-- <input type="file" name="file" id="file" class="fileInput" (change)="fileChangeEvent($event)" />
    <label for="file">
      <ion-icon name="images"></ion-icon> Upload file
    </label> 
     <a href="{{url + '/get-image-user/'+ publication.user.image}}" target="_blank" download="file">Download</a> 
     <form method="get" action="{{url + '/get-image-user/'+ publication.user.image}}">
      <button type="submit">Download!</button>
    </form> -->
  </ion-item>
  <div id="map"></div>
</ion-content>