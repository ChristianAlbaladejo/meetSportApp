function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{MnDo:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("tk/3"),o=n("fXoL"),a=function(){var t=function(){function t(e){_classCallCheck(this,t),this._http=e,this.url="https://api-meet-sport.herokuapp.com/api"}return _createClass(t,[{key:"addFollow",value:function(t,e){var n=JSON.stringify(e),o=(new i.c).set("Content-Type","application/json").set("Authorization",t);return this._http.post(this.url+"/follow",n,{headers:o})}},{key:"deleteFollow",value:function(t,e){var n=(new i.c).set("Content-Type","application/json").set("Authorization",t);return this._http.delete(this.url+"/deleteFollow/"+e,{headers:n})}},{key:"getFollowing",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=(new i.c).set("Content-Type","application/json").set("Authorization",t);return this._http.get(this.url+"/following/"+e+"/"+n,{headers:o})}},{key:"getMyFollows",value:function(t){var e=(new i.c).set("Content-Type","application/json").set("Authorization",t);return this._http.get(this.url+"/get-my-follows/true",{headers:e})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Qb(i.a))},t.\u0275prov=o.Fb({token:t,factory:t.\u0275fac}),t}()},dnnk:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var i=n("mrSG"),o=n("qfBg"),a=n("MnDo"),r=n("wzbf"),s=n("tBOM"),c=n("fXoL"),u=n("TEn/"),l=n("tyNb"),b=n("ofXK"),p=n("3Pt+");function h(t,e){if(1&t){var n=c.Nb();c.Mb(0,"ion-button",2),c.Ub("click",(function(){return c.fc(n),c.Wb().delete()})),c.Kb(1,"ion-icon",11),c.Lb()}}function f(t,e){if(1&t&&c.Kb(0,"img",12),2&t){var n=c.Wb();c.cc("src",n.url+"/get-image-user/"+n.publication.user.image,c.gc)}}function d(t,e){1&t&&c.Kb(0,"img",13)}var g=function(){var t=function(){function t(e,n,i,o,a,r,s,c,u,l,b){_classCallCheck(this,t),this.modalController=e,this._publicationService=n,this.navParams=i,this._route=o,this._router=a,this._userService=r,this.alert=s,this.loading=c,this.navCtrl=u,this._followService=l,this._googleMaps=b,this.mapRef=null,this.identity=this._userService.getIdentity(),this.token=this._userService.getToken(),this.url="https://api-meet-sport.herokuapp.com/api",this.publication=this.navParams.get("publication"),this.times=this.navParams.get("times"),console.log(this.times)}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"ionViewDidEnter",value:function(){this.loadMap()}},{key:"goBack",value:function(){this.modalController.dismiss()}},{key:"loadMap",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,i,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.publication.location.split(","),n={lat:e[0],lng:e[1]},i=new google.maps.LatLng(n.lat,n.lng),o=i,a=document.getElementById("map"),this.mapRef=new google.maps.Map(a,{center:o,zoom:12}),new google.maps.Marker({position:i,map:this.mapRef,animation:google.maps.Animation.DROP});case 4:case"end":return t.stop()}}),t,this)})))}},{key:"delete",value:function(){return Object(i.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.alert.create({header:"Confirm delete publication",message:"Are you sure you want to delete the publication?",buttons:[{text:"Cancel",role:"cancel",handler:function(){}},{text:"Accept",handler:function(){n._publicationService.deletePublication(n.token,n.publication._id).subscribe((function(t){}),(function(t){return Object(i.a)(n,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alert.create({message:"Ohh! Something gone wrong. \ud83d\ude25",buttons:["OK"]});case 2:return e=t.sent,t.next=5,e.present();case 5:case"end":return t.stop()}}),t,this)})))})),n.modalController.dismiss()}}]}),t.next=3,e;case 3:t.sent.present();case 4:case"end":return t.stop()}}),t,this)})))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Jb(u.N),c.Jb(r.a),c.Jb(u.P),c.Jb(l.a),c.Jb(l.g),c.Jb(o.a),c.Jb(u.a),c.Jb(u.L),c.Jb(u.O),c.Jb(a.a),c.Jb(s.a))},t.\u0275cmp=c.Db({type:t,selectors:[["app-publication"]],features:[c.yb([o.a,a.a,r.a])],decls:32,vars:13,consts:[["color","success"],["slot","start"],[3,"click"],["name","chevron-back-outline"],["slot","end"],[3,"click",4,"ngIf"],[3,"src",4,"ngIf"],["src","../../assets/no-user.webp",4,"ngIf"],["name","text","type","text-area","required","",3,"ngModel","ngModelChange"],["text","ngModel"],["id","map"],["name","trash-outline"],[3,"src"],["src","../../assets/no-user.webp"]],template:function(t,e){1&t&&(c.Mb(0,"ion-header"),c.Mb(1,"ion-toolbar",0),c.Mb(2,"ion-buttons",1),c.Mb(3,"ion-button",2),c.Ub("click",(function(){return e.goBack()})),c.Kb(4,"ion-icon",3),c.kc(5,"Back "),c.Lb(),c.Lb(),c.Mb(6,"ion-title"),c.kc(7,"Publication"),c.Lb(),c.Mb(8,"ion-buttons",4),c.ic(9,h,2,0,"ion-button",5),c.Lb(),c.Lb(),c.Lb(),c.Mb(10,"ion-content"),c.Mb(11,"ion-item"),c.Mb(12,"ion-avatar",1),c.ic(13,f,1,1,"img",6),c.ic(14,d,1,0,"img",7),c.Lb(),c.Mb(15,"ion-label"),c.Mb(16,"h3"),c.kc(17),c.Xb(18,"date"),c.Lb(),c.Mb(19,"h3"),c.kc(20),c.Lb(),c.Mb(21,"h3"),c.kc(22),c.Xb(23,"date"),c.Lb(),c.Lb(),c.Lb(),c.Mb(24,"ion-item"),c.Mb(25,"ion-label"),c.kc(26,"What are you going to do?"),c.Lb(),c.Lb(),c.Mb(27,"ion-item"),c.Mb(28,"ion-textarea",8,9),c.Ub("ngModelChange",(function(t){return e.publication.text=t})),c.Lb(),c.Lb(),c.Kb(30,"ion-item"),c.Kb(31,"div",10),c.Lb()),2&t&&(c.zb(9),c.bc("ngIf",e.publication.user._id==e.identity._id),c.zb(4),c.bc("ngIf",e.publication.user.image),c.zb(1),c.bc("ngIf",!e.publication.user.image),c.zb(3),c.nc("",(null==e.publication?null:e.publication.user.name)+" "+(null==e.publication?null:e.publication.user.surname)+" ","| \xa0",c.Yb(18,9," "+(null==e.publication?null:e.publication.created_at)),""),c.zb(3),c.lc(null==e.publication?null:e.publication.text),c.zb(2),c.nc("Date of exit: ",c.Yb(23,11,null==e.times?null:e.times.date)," \xa0 ",null==e.times?null:e.times.hour,""),c.zb(6),c.bc("ngModel",e.publication.text))},directives:[u.o,u.I,u.e,u.d,u.p,u.H,b.j,u.j,u.t,u.c,u.u,u.G,u.T,p.h,p.c,p.f],pipes:[b.d],styles:["#map[_ngcontent-%COMP%]{width:100%;height:100%}"]}),t}()},wzbf:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n("tk/3"),o=n("fXoL"),a=n("TEn/"),r=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this._http=e,this.alert=n,this.loading=i,this.url="https://api-meet-sport.herokuapp.com/api"}return _createClass(t,[{key:"addPublication",value:function(t,e){var n=JSON.stringify(e),o=(new i.c).set("Content-Type","application/json").set("Authorization",t);return this._http.post(this.url+"/publication",n,{headers:o})}},{key:"getPublications",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=(new i.c).set("Content-Type","application/json").set("Authorization",t);return this._http.get(this.url+"/publications/"+e,{headers:n})}},{key:"getPublicationsUser",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;console.log(e);var o=(new i.c).set("Content-Type","application/json").set("Authorization",t);return this._http.get(this.url+"/publications-user/"+e+"/"+n,{headers:o})}},{key:"deletePublication",value:function(t,e){var n=(new i.c).set("Content-Type","application/json").set("Authorization",t);return this._http.delete(this.url+"/publication/"+e,{headers:n})}},{key:"like",value:function(t,e){var n=JSON.stringify(e);console.log(e);var o=(new i.c).set("Content-Type","application/json").set("Authorization",t);return this._http.post(this.url+"/like/"+e._id,n,{headers:o})}},{key:"dislike",value:function(t,e){var n=JSON.stringify(e);console.log(e);var o=(new i.c).set("Content-Type","application/json").set("Authorization",t);return this._http.post(this.url+"/dislike/"+e._id,n,{headers:o})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Qb(i.a),o.Qb(a.a),o.Qb(a.L))},t.\u0275prov=o.Fb({token:t,factory:t.\u0275fac}),t}()},yhbQ:function(t,e,n){"use strict";n.r(e),n.d(e,"PublicationPageModule",(function(){return h}));var i,o,a=n("ofXK"),r=n("3Pt+"),s=n("TEn/"),c=n("tyNb"),u=n("dnnk"),l=n("fXoL"),b=[{path:"",component:u.a}],p=((o=function t(){_classCallCheck(this,t)}).\u0275mod=l.Hb({type:o}),o.\u0275inj=l.Gb({factory:function(t){return new(t||o)},imports:[[c.i.forChild(b)],c.i]}),o),h=((i=function t(){_classCallCheck(this,t)}).\u0275mod=l.Hb({type:i}),i.\u0275inj=l.Gb({factory:function(t){return new(t||i)},imports:[[a.b,r.a,s.J,p]]}),i)}}]);