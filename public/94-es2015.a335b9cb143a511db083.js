(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{MnDo:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var n=i("tk/3"),o=i("fXoL");let s=(()=>{class t{constructor(t){this._http=t,this.url="https://api-meet-sport.herokuapp.com/api"}addFollow(t,e){let i=JSON.stringify(e),o=(new n.c).set("Content-Type","application/json").set("Authorization",t);return this._http.post(this.url+"/follow",i,{headers:o})}deleteFollow(t,e){let i=(new n.c).set("Content-Type","application/json").set("Authorization",t);return this._http.delete(this.url+"/deleteFollow/"+e,{headers:i})}getFollowing(t,e=null,i=1){let o=(new n.c).set("Content-Type","application/json").set("Authorization",t);return this._http.get(this.url+"/following/"+e+"/"+i,{headers:o})}getMyFollows(t){let e=(new n.c).set("Content-Type","application/json").set("Authorization",t);return this._http.get(this.url+"/get-my-follows/true",{headers:e})}}return t.\u0275fac=function(e){return new(e||t)(o.Qb(n.a))},t.\u0275prov=o.Fb({token:t,factory:t.\u0275fac}),t})()},dnnk:function(t,e,i){"use strict";i.d(e,"a",(function(){return m}));var n=i("mrSG"),o=i("qfBg"),s=i("MnDo"),a=i("wzbf"),l=i("tBOM"),r=i("fXoL"),c=i("TEn/"),u=i("tyNb"),b=i("ofXK"),p=i("3Pt+");function h(t,e){if(1&t){const t=r.Nb();r.Mb(0,"ion-button",2),r.Ub("click",(function(){return r.fc(t),r.Wb().delete()})),r.Kb(1,"ion-icon",11),r.Lb()}}function d(t,e){if(1&t&&r.Kb(0,"img",12),2&t){const t=r.Wb();r.cc("src",t.url+"/get-image-user/"+t.publication.user.image,r.gc)}}function g(t,e){1&t&&r.Kb(0,"img",13)}let m=(()=>{class t{constructor(t,e,i,n,o,s,a,l,r,c,u){this.modalController=t,this._publicationService=e,this.navParams=i,this._route=n,this._router=o,this._userService=s,this.alert=a,this.loading=l,this.navCtrl=r,this._followService=c,this._googleMaps=u,this.mapRef=null,this.identity=this._userService.getIdentity(),this.token=this._userService.getToken(),this.url="https://api-meet-sport.herokuapp.com/api",this.publication=this.navParams.get("publication"),this.times=this.navParams.get("times"),console.log(this.times)}ngOnInit(){}ionViewDidEnter(){this.loadMap()}goBack(){this.modalController.dismiss()}loadMap(){return Object(n.a)(this,void 0,void 0,(function*(){let t=this.publication.location.split(","),e={lat:t[0],lng:t[1]};var i=new google.maps.LatLng(e.lat,e.lng);const n=i,o=document.getElementById("map");this.mapRef=new google.maps.Map(o,{center:n,zoom:12}),new google.maps.Marker({position:i,map:this.mapRef,animation:google.maps.Animation.DROP})}))}delete(){return Object(n.a)(this,void 0,void 0,(function*(){let t=this.alert.create({header:"Confirm delete publication",message:"Are you sure you want to delete the publication?",buttons:[{text:"Cancel",role:"cancel",handler:()=>{}},{text:"Accept",handler:()=>{this._publicationService.deletePublication(this.token,this.publication._id).subscribe(t=>{},t=>Object(n.a)(this,void 0,void 0,(function*(){const t=yield this.alert.create({message:"Ohh! Something gone wrong. \u{1f625}",buttons:["OK"]});yield t.present()}))),this.modalController.dismiss()}}]});(yield t).present()}))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(c.N),r.Jb(a.a),r.Jb(c.P),r.Jb(u.a),r.Jb(u.g),r.Jb(o.a),r.Jb(c.a),r.Jb(c.L),r.Jb(c.O),r.Jb(s.a),r.Jb(l.a))},t.\u0275cmp=r.Db({type:t,selectors:[["app-publication"]],features:[r.yb([o.a,s.a,a.a])],decls:32,vars:13,consts:[["color","success"],["slot","start"],[3,"click"],["name","chevron-back-outline"],["slot","end"],[3,"click",4,"ngIf"],[3,"src",4,"ngIf"],["src","../../assets/no-user.webp",4,"ngIf"],["name","text","type","text-area","required","",3,"ngModel","ngModelChange"],["text","ngModel"],["id","map"],["name","trash-outline"],[3,"src"],["src","../../assets/no-user.webp"]],template:function(t,e){1&t&&(r.Mb(0,"ion-header"),r.Mb(1,"ion-toolbar",0),r.Mb(2,"ion-buttons",1),r.Mb(3,"ion-button",2),r.Ub("click",(function(){return e.goBack()})),r.Kb(4,"ion-icon",3),r.kc(5,"Back "),r.Lb(),r.Lb(),r.Mb(6,"ion-title"),r.kc(7,"Publication"),r.Lb(),r.Mb(8,"ion-buttons",4),r.ic(9,h,2,0,"ion-button",5),r.Lb(),r.Lb(),r.Lb(),r.Mb(10,"ion-content"),r.Mb(11,"ion-item"),r.Mb(12,"ion-avatar",1),r.ic(13,d,1,1,"img",6),r.ic(14,g,1,0,"img",7),r.Lb(),r.Mb(15,"ion-label"),r.Mb(16,"h3"),r.kc(17),r.Xb(18,"date"),r.Lb(),r.Mb(19,"h3"),r.kc(20),r.Lb(),r.Mb(21,"h3"),r.kc(22),r.Xb(23,"date"),r.Lb(),r.Lb(),r.Lb(),r.Mb(24,"ion-item"),r.Mb(25,"ion-label"),r.kc(26,"What are you going to do?"),r.Lb(),r.Lb(),r.Mb(27,"ion-item"),r.Mb(28,"ion-textarea",8,9),r.Ub("ngModelChange",(function(t){return e.publication.text=t})),r.Lb(),r.Lb(),r.Kb(30,"ion-item"),r.Kb(31,"div",10),r.Lb()),2&t&&(r.zb(9),r.bc("ngIf",e.publication.user._id==e.identity._id),r.zb(4),r.bc("ngIf",e.publication.user.image),r.zb(1),r.bc("ngIf",!e.publication.user.image),r.zb(3),r.nc("",(null==e.publication?null:e.publication.user.name)+" "+(null==e.publication?null:e.publication.user.surname)+" ","| \xa0",r.Yb(18,9," "+(null==e.publication?null:e.publication.created_at)),""),r.zb(3),r.lc(null==e.publication?null:e.publication.text),r.zb(2),r.nc("Date of exit: ",r.Yb(23,11,null==e.times?null:e.times.date)," \xa0 ",null==e.times?null:e.times.hour,""),r.zb(6),r.bc("ngModel",e.publication.text))},directives:[c.o,c.I,c.e,c.d,c.p,c.H,b.j,c.j,c.t,c.c,c.u,c.G,c.T,p.h,p.c,p.f],pipes:[b.d],styles:["#map[_ngcontent-%COMP%]{width:100%;height:100%}"]}),t})()},wzbf:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("tk/3"),o=i("fXoL"),s=i("TEn/");let a=(()=>{class t{constructor(t,e,i){this._http=t,this.alert=e,this.loading=i,this.url="https://api-meet-sport.herokuapp.com/api"}addPublication(t,e){let i=JSON.stringify(e),o=(new n.c).set("Content-Type","application/json").set("Authorization",t);return this._http.post(this.url+"/publication",i,{headers:o})}getPublications(t,e=1){let i=(new n.c).set("Content-Type","application/json").set("Authorization",t);return this._http.get(this.url+"/publications/"+e,{headers:i})}getPublicationsUser(t,e,i=1){console.log(e);let o=(new n.c).set("Content-Type","application/json").set("Authorization",t);return this._http.get(this.url+"/publications-user/"+e+"/"+i,{headers:o})}deletePublication(t,e){let i=(new n.c).set("Content-Type","application/json").set("Authorization",t);return this._http.delete(this.url+"/publication/"+e,{headers:i})}like(t,e){let i=JSON.stringify(e);console.log(e);let o=(new n.c).set("Content-Type","application/json").set("Authorization",t);return this._http.post(this.url+"/like/"+e._id,i,{headers:o})}dislike(t,e){let i=JSON.stringify(e);console.log(e);let o=(new n.c).set("Content-Type","application/json").set("Authorization",t);return this._http.post(this.url+"/dislike/"+e._id,i,{headers:o})}}return t.\u0275fac=function(e){return new(e||t)(o.Qb(n.a),o.Qb(s.a),o.Qb(s.L))},t.\u0275prov=o.Fb({token:t,factory:t.\u0275fac}),t})()},yhbQ:function(t,e,i){"use strict";i.r(e),i.d(e,"PublicationPageModule",(function(){return b}));var n=i("ofXK"),o=i("3Pt+"),s=i("TEn/"),a=i("tyNb"),l=i("dnnk"),r=i("fXoL");const c=[{path:"",component:l.a}];let u=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[a.i.forChild(c)],a.i]}),t})(),b=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[n.b,o.a,s.J,u]]}),t})()}}]);